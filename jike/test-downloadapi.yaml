apiVersion: v1
kind: Pod
metadata:
  name: test-downwardapi-volume
  labels:
    zone: us-est-coast
    cluster: test-cluster1
    rack: rack-22
spec:
  containers:
    - name: client-container
      image: busybox
      command: ["sh","-c"]
      args:
        - while true; do
            if [[ -e /etc/podinfo/labels ]];then
              echo -en '\n\n'; cat /etc/podinfo/labels; fi
            sleep 5;
          done
          volumeMounts:
            - name: podinfo
              mountPath: /etc/podinfo
              readOnly: false
  voumes:
    - name: podinfo
    projected:
      sources:
        - downloadAPI:
          items:
            - path: "labels"
              fieldRef:
                fieldPath: metadata.labels
                


